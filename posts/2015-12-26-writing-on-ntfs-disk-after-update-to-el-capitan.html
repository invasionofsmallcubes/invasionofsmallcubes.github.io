<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="this is my note taking app, shared with everybody"/><meta property="og:image" content="https://og-image.now.sh/Welcome%20to%20the%20Invasion%20Of%20Small%20Cubes.png?theme=dark&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="Welcome to the Invasion Of Small Cubes"/><meta name="twitter:card" content="summary_large_image"/><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-TX602JDKLH"></script><script type="text/javascript" async="" src="tracking.js"></script><title>Writing on NTFS Disk After Update to El Capitan</title><meta name="next-head-count" content="10"/><link rel="preload" href="/_next/static/css/8549f512080405e68560.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8549f512080405e68560.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8940758a4d427170012c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8940758a4d427170012c.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-27ce3cd164fb94df60e7.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9707fddd9ae5927c17c3.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.44ec10f6e415a8ca6263.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-e21097dd67dbafb50e0f.js" as="script"/><link rel="preload" href="/_next/static/chunks/10cf003e655e7be2119574cd9202224517114f06.141ecfc5fd01254381c9.js" as="script"/><link rel="preload" href="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.aebf37d4f0f8f63c442f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bid%5D-26b94c598112f16fa107.js" as="script"/></head><body><div id="__next"><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><a href="/"><img src="/images/face.jpeg" class="layout_headerImage__2h5On utils_borderCircle__13qdJ" alt="The Invasion of Small Cubes"/></a><h2 class="utils_headingLg__de7p0"><a class="utils_colorInherit__3Gudf" href="/">The Invasion of Small Cubes</a></h2></header><main><article><h1 class="utils_headingXl__1XecN">Writing on NTFS Disk After Update to El Capitan</h1><div class="utils_lightText__12Ckm"><time dateTime="2015-12-26">December 26, 2015</time></div><div><p>At home I don&#x27;t have an homogeneous device environment so I keep an NTFS portable hard disk to move around files (for example to watch them on my tv).</p><p>After updating my MacBook Pro Late 2011 (yeah, that old and it still rocks hard!), I couldn&#x27;t find a way to let him write on the NTFS drive. I could mount it, I could read files, but no writing at all.</p><p>If you want to spend money, I had for a month the trial period for <a href="http://www.tuxera.com/products/tuxera-ntfs-for-mac/">Tuxera NTFS</a> and that worked like a charm.</p><p>In my case though, I could not accept that an update could crash my Fuse OSX and NTFS-3g setup.</p><p>You can find a lot of gists around that have a solution to the problem.</p><p>I used this <a href="https://gist.github.com/Coeur/86a18b646a3b78930cf3">gist</a> but I keep getting problems.</p><p>First of all after reinstalling ntfs-3g with <code>brew</code> I got the program broken (I don&#x27;t know how) and I had to relink it again with this command: <code>brew link --overwrite  homebrew/fuse/ntfs-3g</code>.</p><p>Then I could see the external drive anymore. <code>diskutil</code> was not able to mount it anymore but no message was shown. After some digging I tried to mount it via command line with <code>mount</code> like this:</p><pre style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#2a2734;color:#9a86fd;padding:1em;margin:.5em 0;overflow:auto"><code style="font-family:Consolas, Menlo, Monaco, &quot;Andale Mono WT&quot;, &quot;Andale Mono&quot;, &quot;Lucida Console&quot;, &quot;Lucida Sans Typewriter&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Liberation Mono&quot;, &quot;Nimbus Mono L&quot;, &quot;Courier New&quot;, Courier, monospace;font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#2a2734;color:#9a86fd"><span>diskutil list #to get the list of drives
</span>sudo /sbin/mount_ntfs -o rw /dev/disk2s1 ~/temp
</code></pre><p>and it was still failing. When you install ntfs-3g you have errors on <code>/var/log/mount-ntfs-3g.log</code>, mine was:</p><blockquote><p>$MFTMirr does not match $MFT (record 0).
Failed to mount &#x27;/dev/disk2s1&#x27;: Input/output error
NTFS is either inconsistent, or there is a hardware fault, or it&#x27;s a
SoftRAID/FakeRAID hardware. In the first case run chkdsk /f on Windows
then reboot into Windows twice. The usage of the /f parameter is very
important! If the device is a SoftRAID/FakeRAID then first activate
it and mount a different device under the /dev/mapper/ directory, (e.g.
/dev/mapper/nvidia_eahaabcc1). Please see the &#x27;dmraid&#x27; documentation
for more details.</p></blockquote><p>Apparently the hard drive had some problem. Luckily mine was fixable running this command: <code>sudo ntfsfix /dev/disk2s1</code></p><p>After that trying to mount it again was a successful operation and I could write again on my NTFS external drive.</p><p>A complete explanation of the problem can be found <a href="https://wmarkito.wordpress.com/2010/12/29/how-to-fix-mftmirr-does-not-match-mft-record-0/">here</a>.</p> </div></article></main><div class="layout_backToHome__1vZsp"><a href="/">‚Üê Back to home</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"2015-12-26-writing-on-ntfs-disk-after-update-to-el-capitan","c":"\nAt home I don't have an homogeneous device environment so I keep an NTFS portable hard disk to move around files (for example to watch them on my tv).\n\nAfter updating my MacBook Pro Late 2011 (yeah, that old and it still rocks hard!), I couldn't find a way to let him write on the NTFS drive. I could mount it, I could read files, but no writing at all.\n\nIf you want to spend money, I had for a month the trial period for [Tuxera NTFS](http://www.tuxera.com/products/tuxera-ntfs-for-mac/) and that worked like a charm.\n\nIn my case though, I could not accept that an update could crash my Fuse OSX and NTFS-3g setup.\n\nYou can find a lot of gists around that have a solution to the problem.\n\nI used this [gist](https://gist.github.com/Coeur/86a18b646a3b78930cf3) but I keep getting problems.\n\nFirst of all after reinstalling ntfs-3g with `brew` I got the program broken (I don't know how) and I had to relink it again with this command: `brew link --overwrite  homebrew/fuse/ntfs-3g`.\n\nThen I could see the external drive anymore. `diskutil` was not able to mount it anymore but no message was shown. After some digging I tried to mount it via command line with `mount` like this:\n\n```\ndiskutil list #to get the list of drives\nsudo /sbin/mount_ntfs -o rw /dev/disk2s1 ~/temp\n```\n\nand it was still failing. When you install ntfs-3g you have errors on `/var/log/mount-ntfs-3g.log`, mine was:\n\n\u003e $MFTMirr does not match $MFT (record 0).\nFailed to mount '/dev/disk2s1': Input/output error\nNTFS is either inconsistent, or there is a hardware fault, or it's a\nSoftRAID/FakeRAID hardware. In the first case run chkdsk /f on Windows\nthen reboot into Windows twice. The usage of the /f parameter is very\nimportant! If the device is a SoftRAID/FakeRAID then first activate\nit and mount a different device under the /dev/mapper/ directory, (e.g.\n/dev/mapper/nvidia_eahaabcc1). Please see the 'dmraid' documentation\nfor more details.\n\nApparently the hard drive had some problem. Luckily mine was fixable running this command: `sudo ntfsfix /dev/disk2s1`\n\nAfter that trying to mount it again was a successful operation and I could write again on my NTFS external drive.\n\nA complete explanation of the problem can be found [here](https://wmarkito.wordpress.com/2010/12/29/how-to-fix-mftmirr-does-not-match-mft-record-0/).\n","title":"Writing on NTFS Disk After Update to El Capitan","date":"2015-12-26"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2015-12-26-writing-on-ntfs-disk-after-update-to-el-capitan"},"buildId":"PJ7wy0D0aboVW9tPfXljt","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-fa276ba060a4a8ac7eef.js"></script><script src="/_next/static/chunks/main-27ce3cd164fb94df60e7.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.9707fddd9ae5927c17c3.js" async=""></script><script src="/_next/static/chunks/commons.44ec10f6e415a8ca6263.js" async=""></script><script src="/_next/static/chunks/pages/_app-e21097dd67dbafb50e0f.js" async=""></script><script src="/_next/static/chunks/10cf003e655e7be2119574cd9202224517114f06.141ecfc5fd01254381c9.js" async=""></script><script src="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.aebf37d4f0f8f63c442f.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-26b94c598112f16fa107.js" async=""></script><script src="/_next/static/PJ7wy0D0aboVW9tPfXljt/_buildManifest.js" async=""></script><script src="/_next/static/PJ7wy0D0aboVW9tPfXljt/_ssgManifest.js" async=""></script></body></html>